{% extends "index.html" %} {% block contenido %}

<header class="hero">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>

    <div class="hero-content">
        <i class="fa-solid fa-cube floating-box-icon"></i>
        <h1>El Misterio <span>Te Llama</span></h1>
        <p>Suscripciones mensuales de cajas sorpresa. ¿Te atreves a abrir una?</p>
        <a href="#cajas" class="btn btn-primary">Ver Cajas <i class="fas fa-arrow-down"></i></a>
    </div>
</header>

<section id="cajas" class="container">
    <h2 class="section-title">Nuestras <span style="color: var(--highlight)">Cajas</span></h2>

    <div class="products-grid">
        {% for caja in boxes %}
        <div class="mystery-card">
            <div class="card-icon">
                <i class="fa-solid fa-box-open"></i>
            </div>

            <h3>{{ caja.nombre }}</h3>

            <p>{{ caja.descripcion|truncatechars:80 }}</p>

            <span class="price">${{ caja.monthly_price }}</span>

            <a href="{% url 'box' caja.id %}" class="btn btn-primary" style="width: 100%; margin-top: auto">
                Ver Contenido
            </a>
        </div>
        {% empty %}
        <div style="grid-column: 1 / -1; text-align: center; color: var(--text-muted)">
            <h3><i class="fa-solid fa-ghost"></i> No hay cajas disponibles por ahora...</h3>
        </div>
        {% endfor %}
    </div>
</section>

<section id="funcionamiento" class="container" style="margin-bottom: 100px; text-align: center">
    <h2 class="section-title">¿Cómo <span style="color: var(--accent)">Funciona?</span></h2>
    <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 30px">
        <div style="max-width: 300px">
            <i class="fa-solid fa-hand-pointer" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px"></i>
            <h3>1. Elige</h3>
            <p style="color: var(--text-muted)">Selecciona la temática que más te intrigue.</p>
        </div>
        <div style="max-width: 300px">
            <i class="fa-solid fa-credit-card" style="font-size: 3rem; color: var(--accent); margin-bottom: 20px"></i>
            <h3>2. Suscríbete</h3>
            <p style="color: var(--text-muted)">Pago seguro mensual con Stripe.</p>
        </div>
        <div style="max-width: 300px">
            <i class="fa-solid fa-truck-fast" style="font-size: 3rem; color: var(--highlight); margin-bottom: 20px"></i>
            <h3>3. Recibe</h3>
            <p style="color: var(--text-muted)">Una caja sorpresa cada mes en tu puerta.</p>
        </div>
    </div>
</section>

{% endblock %}
