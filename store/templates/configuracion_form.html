{% extends 'store/templates/base.html' %}
{% load static %}

{% block contenido %}
<div class="min-h-screen pt-24 pb-12 px-4">
    <div class="container mx-auto max-w-lg">
        <!-- Header -->
        <div class="text-center mb-8 relative">
            <h1
                class="text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-mystery-gold via-yellow-200 to-mystery-gold mb-2 tracking-wider filter drop-shadow-[0_0_10px_rgba(255,215,0,0.3)] font-orbitron">
                CONFIGURACIÓN IVA
            </h1>
            <div
                class="h-1 w-24 bg-gradient-to-r from-transparent via-mystery-purple to-transparent mx-auto rounded-full">
            </div>
        </div>

        <!-- Form Card -->
        <div
            class="bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl relative overflow-hidden group">
            <!-- Decorative elements -->
            <div
                class="absolute top-0 right-0 w-32 h-32 bg-mystery-purple/20 blur-[50px] rounded-full group-hover:bg-mystery-purple/30 transition-all duration-500">
            </div>
            <div
                class="absolute bottom-0 left-0 w-32 h-32 bg-mystery-cyan/20 blur-[50px] rounded-full group-hover:bg-mystery-cyan/30 transition-all duration-500">
            </div>

            <form method="post" class="relative z-10 space-y-6">
                {% csrf_token %}

                {% if messages %}
                <div class="mb-6 space-y-2">
                    {% for message in messages %}
                    <div
                        class="p-4 rounded-xl {% if message.tags == 'success' %}bg-mystery-success/20 text-mystery-success border border-mystery-success/30{% else %}bg-red-500/20 text-red-400 border border-red-500/30{% endif %} text-sm font-medium backdrop-blur-sm animate-fade-in">
                        <i
                            class="fa-solid {% if message.tags == 'success' %}fa-check-circle{% else %}fa-exclamation-circle{% endif %} mr-2"></i>
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                <div class="space-y-2">
                    <label for="{{ form.tasa_iva.id_for_label }}"
                        class="block text-sm font-medium text-white/80 uppercase tracking-wider pl-1">
                        {{ form.tasa_iva.label }}
                    </label>
                    <div class="relative group/input">
                        {{ form.tasa_iva }}
                        <div
                            class="absolute right-4 top-1/2 -translate-y-1/2 text-white/30 pointer-events-none group-focus-within/input:text-mystery-gold transition-colors">
                            <i class="fa-solid fa-percent"></i>
                        </div>
                    </div>
                    {% if form.tasa_iva.help_text %}
                    <p class="text-xs text-white/40 pl-1">{{ form.tasa_iva.help_text }}</p>
                    {% endif %}
                    {% if form.tasa_iva.errors %}
                    <p class="text-xs text-red-400 pl-1">{{ form.tasa_iva.errors.0 }}</p>
                    {% endif %}
                </div>

                <div class="pt-4 flex gap-4">
                    <a href="{% url 'home' %}"
                        class="flex-1 px-6 py-3 rounded-xl border border-white/10 text-white/60 font-bold hover:bg-white/5 hover:text-white transition-all text-center uppercase tracking-wider text-sm">
                        Cancelar
                    </a>
                    <button type="submit"
                        class="flex-1 bg-gradient-to-r from-mystery-purple to-mystery-blue hover:from-mystery-purple/80 hover:to-mystery-blue/80 text-white font-bold py-3 px-6 rounded-xl shadow-[0_0_20px_rgba(139,92,246,0.3)] hover:shadow-[0_0_30px_rgba(139,92,246,0.5)] transition-all transform hover:-translate-y-0.5 uppercase tracking-wider text-sm flex items-center justify-center gap-2">
                        <i class="fa-solid fa-save"></i> Guardar Cambios
                    </button>
                </div>
            </form>
        </div>

        <div class="mt-8 text-center">
            <p class="text-xs text-white/30 max-w-xs mx-auto">
                <i class="fa-solid fa-circle-info mr-1"></i>
                Los cambios en la tasa de IVA solo afectarán a las nuevas compras. El historial de pedidos anteriores
                permanecerá intacto.
            </p>
        </div>
    </div>
</div>
{% endblock %}